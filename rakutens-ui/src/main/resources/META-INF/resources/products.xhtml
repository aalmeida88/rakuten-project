<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <f:view contentType="text/html">
        <h:head>            
            <title>Rakuten.com - Computers, Electronics, Apparel, Home, Sporting Goods, Toys and Accessories | Rakuten.com</title>
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
            <link href="#{resource['images/favicon.ico']}" rel="shortcut icon"/>
            <h:outputStylesheet name="main.css" />
        </h:head>
        <h:body>            
            <p:layout fullPage="true" >
            	<p:layoutUnit position="center" >
	            	<p:panel header="Products">
	            	
	            		<p:dataTable 
	            			var="product" value="#{productMBean.products}"
	            			paginator="true" lazy="true"
	            			rows="10" rowsPerPageTemplate="5,10,15"
                         	paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         >
						    <p:column headerText="Code">
						        <h:outputText value="#{product.code}" />
						    </p:column>
						 
						    <p:column headerText="Description">
						        <h:outputText value="#{product.description}" />
						    </p:column>
						 
						    <p:column headerText="Price (EUR)">
						        <h:outputText value="#{product.eurPrice}" />
						    </p:column>
						 
						    <p:column headerText="Main Category">
						        <h:outputText value="#{product.category.description}" />
						    </p:column>
						    
						    <p:column headerText="All Categories">
						    	<ul>
							    	<ui:repeat value="#{product.category.ancestors}" var="c">
									  <li>#{c.description}</li>
									</ui:repeat>
								</ul>
						    </p:column>
						</p:dataTable>
	            	
					</p:panel>
				</p:layoutUnit>
            </p:layout>
        </h:body>
    </f:view>
</html>
